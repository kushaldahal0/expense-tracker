<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Expense Tracker - Home</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="icon" href= "{{ url_for('static', filename='logo.png') }}" type="image/x-icon">
</head>
<body>
<div class="lg:flex lg:items-center lg:justify-between">
  <div class="min-w-0 flex-1">
    <a href="{{  url_for('home') }}" ><h2 class="text-2xl font-bold leading-7 text-gray-900 sm:truncate sm:text-3xl sm:tracking-tight">Expense Tracker</h2></a>
    </div>
  </div>
  <div class="flex items-center justify-center flex-col">
    <h3 class="text-2xl font-bold leading-7 text-gray-900 sm:truncate sm:text-3xl sm:tracking-tight">Expenses</h3>
    <ul>
        {% if expenses %}
          {% for expense in expenses %}
            <li class="p-1 m-1 shadow-xl">
                {{ expense.user_id }}..{{ expense.id }}. {{ expense.date }} -- {{ expense.description }} : ${{ expense.amount }}
                <div class="flex items-center justify-between">
                    <form action="{{ url_for('update')}}" method="get">
                        <input type="hidden" name="expense_id" value="{{ expense.id }}">
                        <input type="hidden" name="user_id" value="{{ expense.user_id }}">
                        <button class="bg-blue-500 text-white rounded p-1 text-sm" type="submit" name="update">Update</button>
                    </form>
                    <form action="{{ url_for('delete')}}" method="POST">
                        <input type="hidden" name="expense_id" value="{{ expense.id }}">
                        <button class="bg-red-500 text-white rounded p-1 text-sm" type="submit" name="delete">Delete</button>
                    </form>
                </div>
            </li>
          {% endfor %}
        {% endif %}
    </ul>




        <h3 class="text-2xl font-bold leading-7 text-gray-900 sm:truncate sm:text-3xl sm:tracking-tight">Add New Expense</h3>
{#      <form action="{{ url_for('add_expense') }}" method="post"> #}
        <form  action="" method="post">
            <label for="date">Date:</label>
            <input class="p-1 m-1 shadow-xl" type="date" id="date" name="date" required><br>
            <label for="description">Description:</label>
            <input class="p-1 m-1 shadow-xl" type="text" id="description" name="description" required><br>
            <label for="amount">Amount:</label>
            <input class="p-1 m-1 shadow-xl" type="number" id="amount" name="amount" step="0.01" required><br>
            <button class='text-l bg-blue-500 text-white rounded p-2 m-3 flex items-center justify-center'type="submit">Add Expense</button>
            {% if exp %}
                <p>{{ exp }}</p>
            {% endif %}
        </form>

{#    <h4 class="text-2xl font-bold leading-7 text-gray-900 sm:truncate sm:text-3xl sm:tracking-tight">Logout</h4>#}
         <form action="{{ url_for('logout') }}" method="post">
 {#  <form action="{{ url_for('logout') }}" method="post">#}
            <button class=" text-l bg-red-500 text-white rounded m-3 p-2" type="submit">Logout</button>
        </form>
</div>
</body>
</html>